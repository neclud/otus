ТЗ
Сервис, обеспечивающий обработку результатов соревнований по трейлраннингу (бегу по пересеченной местности). Он должен принимать протоколы соревнований от организаторов, складировать их в базу данных для последующей визуализации в Grafana
Примерный алгоритм работы:
1. организатор отправляет телеграм боту csv файл фиксированной структуры (т.е. набор полей и их порядок неизменен) телеграм боту
2. бот отправляет файл сервису receiver, который проводит валидацию файла. Если структура файла соответствует требованиям, то он загружает файл в s3 хранилище и отправляет в Kafka сообщение, в котором будет указан путь до файла в s3 бакете
3. сервис converter проверяет наличие необработанных сообщений в Kafka, работая резидентно. При обнаружении сообщения, он загружает csv из бакета, преобразует его в json и по gRPC отправляет его сервису processor
4. сервис processor принимает json и складывает полученную информацию в postgresql базу, к которой будет обращаться Grafana